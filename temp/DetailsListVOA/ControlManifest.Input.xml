<?xml version="1.0" encoding="utf-8" ?>
<manifest>
  <control namespace="Voa.Controls" constructor="DetailsListVOA" version="0.0.6" display-name-key="DetailsListVOA" description-key="DetailsListVOA description" control-type="virtual" >
    <!--external-service-usage node declares whether this 3rd party PCF control is using external service or not, if yes, this control will be considered as premium and please also add the external domain it is using.
    If it is not using any external service, please set the enabled="false" and DO NOT add any domain below. The "enabled" will be false by default.
    Example1:
      <external-service-usage enabled="true">
        <domain>www.Microsoft.com</domain>
      </external-service-usage>
    Example2:
      <external-service-usage enabled="false">
      </external-service-usage>
    -->
    <external-service-usage enabled="true">
      <domain>api.contoso.gov.uk</domain>
    </external-service-usage>
    <!-- Unbound control; dataset removed -->

    <!-- Removed dataset-bound task properties for unbound API-first control -->

    <property name="canvasScreenName" display-name-key="Canvas Screen Name" description-key="Name of the Canvas App screen to navigate to on row click (e.g., svt-sale-details)." of-type="SingleLine.Text" usage="input" required="false" default-value="" />
    <property
      name="customApiName"
      display-name-key="Custom API Name"
      description-key="Name of the Dataverse Custom API used for search (e.g., voa_GetAllSalesRecord)."
      of-type="SingleLine.Text"
      usage="input"
      required="false"
      default-value="voa_GetAllSalesRecord"
    />
    <property
      name="customApiType"
      display-name-key="Custom API Type"
      description-key="Custom API operation type: function (GET) or action (POST)."
      of-type="SingleLine.Text"
      usage="input"
      required="false"
      default-value="function"
    />
    <!-- Number of records shown per page -->
    <property name="pageSize" display-name-key="PageSize" description-key="PageSize description" of-type="Whole.None" usage="input" required="false" default-value="10" />
    <!-- Optional mapping of column logical names to display names as JSON -->
    <property
      name="columnDisplayNames"
      display-name-key="Column Display Names"
      description-key="Enter a JSON object mapping dataset column names to display names. E.g. {&quot;JobID&quot;:&quot;Job Ref&quot;,&quot;UARN&quot;:&quot;Unique Ref&quot;}"
      of-type="SingleLine.Text"
      usage="input"
      required="false"
      default-value="{}"
    />
    <!-- Column configuration as JSON array -->
    <property
      name="columnConfig"
      display-name-key="Column Configuration"
      description-key="JSON array configuring columns"
      of-type="SingleLine.Text"
      usage="input"
      required="false"
      default-value="[]"
    />
    <property
      name="searchBy"
      display-name-key="Search By"
      description-key="Prefilter mode (e.g., Billing Authority or Caseworker)."
      of-type="SingleLine.Text"
      usage="input"
      required="false"
      default-value=""
    />
    <property
      name="billingAuthorities"
      display-name-key="Billing Authorities"
      description-key="Selected billing authorities (JSON array or comma-separated)."
      of-type="SingleLine.Text"
      usage="input"
      required="false"
      default-value=""
    />
    <property
      name="caseworkers"
      display-name-key="Caseworkers"
      description-key="Selected caseworkers (JSON array or comma-separated)."
      of-type="SingleLine.Text"
      usage="input"
      required="false"
      default-value=""
    />
    <property
      name="workThat"
      display-name-key="Work That"
      description-key="Selected work-that filter option."
      of-type="SingleLine.Text"
      usage="input"
      required="false"
      default-value=""
    />
    <property
      name="fromDate"
      display-name-key="From Date"
      description-key="Filter from date (YYYY-MM-DD)."
      of-type="SingleLine.Text"
      usage="input"
      required="false"
      default-value=""
    />
    <property
      name="toDate"
      display-name-key="To Date"
      description-key="Filter to date (YYYY-MM-DD)."
      of-type="SingleLine.Text"
      usage="input"
      required="false"
      default-value=""
    />
    <property
      name="searchTrigger"
      display-name-key="Search Trigger"
      description-key="Updated on Search click to trigger a refresh."
      of-type="SingleLine.Text"
      usage="input"
      required="false"
      default-value=""
    />
    <!-- Removed search UI configuration properties; composition is component-based -->
    <!-- Removed sample search toggle -->
    <property
      name="allowColumnReorder"
      display-name-key="Allow Column Reorder"
      description-key="If true, users can drag to reorder columns"
      of-type="TwoOptions"
      usage="input"
      required="false"
      default-value="false"
    />
    <property
      name="perfLogsEnabled"
      display-name-key="Enable Performance Logs"
      description-key="When on, control logs API and UI performance timings to the console."
      of-type="TwoOptions"
      usage="input"
      required="false"
      default-value="false"
    />
    <property name="selectedTaskId" display-name-key="SelectedTaskId" description-key="SelectedTaskId description" of-type="SingleLine.Text" usage="output" required="false" />
    <property name="selectedSaleId" display-name-key="SelectedSaleId" description-key="SelectedSaleId description" of-type="SingleLine.Text" usage="output" required="false" />
    <property name="saleDetails" display-name-key="Sale Details" description-key="Serialized sale details JSON" of-type="SingleLine.Text" usage="output" required="false" />
    <property name="selectedTaskIdsJson" display-name-key="Selected Task IDs (JSON)" description-key="JSON array of selected Task IDs" of-type="SingleLine.Text" usage="output" required="false" />
    <property name="selectedSaleIdsJson" display-name-key="Selected Sale IDs (JSON)" description-key="JSON array of selected Sale IDs" of-type="SingleLine.Text" usage="output" required="false" />


    <resources>
      <code path="index.ts" order="1"/>
      <platform-library name="React" version="16.14.0" />
      <platform-library name="Fluent" version="9.46.2" />
      <css path="css/DetailsListVOA.css" order="1" />
    </resources>
    <!-- UNCOMMENT TO ENABLE THE SPECIFIED API
    <feature-usage>
      <uses-feature name="Device.captureAudio" required="true" />
      <uses-feature name="Device.captureImage" required="true" />
      <uses-feature name="Device.captureVideo" required="true" />
      <uses-feature name="Device.getBarcodeValue" required="true" />
      <uses-feature name="Device.getCurrentPosition" required="true" />
      <uses-feature name="Device.pickFile" required="true" />
      <uses-feature name="Utility" required="true" />
      <uses-feature name="WebAPI" required="true" />
    </feature-usage>
    -->
  </control>
</manifest>
